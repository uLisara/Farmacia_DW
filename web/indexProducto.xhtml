<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>  
        <f:event type="preRenderView" listener="#{managedSession.verificarSessionC()}"></f:event>
    </h:head>
    <h:body> 
        <ui:include src="/template/clienteS.xhtml"/>
        <c:forEach items="#{managedProducto.listaPro}" var="a">
            <h:form>
                <div class="col-md-4" style="padding-left: 20px; padding-right: 20px; padding-bottom: 20px; padding-top: 20px" ><br></br>
                    <h:graphicImage value="#{a.imagen}"
                                    height="100" width="100" style="align-self: center" />
                    <div class="card-body" style="align-content: center">
                        <h:outputText value="#{a.nombrepro}" class="card-title" style="align-content: center;"/><br/>
                        <h:outputText value="#{a.idpro}" style="align-self: center;"></h:outputText><br/>
                        <h:outputText title="#{msj['agregar.precio']}" value="#{a.preciopro}" style="align-self: center;"/><br></br>
                        <h:outputText title="#{msj['agregar.stock']}" value="#{a.stockpro}" style="align-self: center;" /><br></br>
                        
                        <p:spinner id="minMax" value="#{managedDetallePedido.spin}" min="0" max="#{a.stockpro}" style="align-items: center" >
                            </p:spinner>
                        
                        <h:commandButton style="background-color: #0066cc" class="btn btn-primary" value="#{msj['vista.agregar']}" actionListener="#{managedDetallePedido.agregaCarrito(a)}" ></h:commandButton>
                    </div>
                </div>
            </h:form> 
        </c:forEach>
       <ui:include src="/template/footer.xhtml"></ui:include>
    </h:body>
</html>

